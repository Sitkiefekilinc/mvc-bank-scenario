@using EEZBankServer.Models.ViewModel
@model List<DovizKurlariViewModel>

<link rel="stylesheet" href="~/css/Components/dovizkurlari.css" />

<div class="service-card exchange-featured">
    <div class="market-header">
        <h3>Piyasa Özeti</h3>
        <div class="live-indicator"><span class="dot"></span> CANLI</div>
    </div>

    <div class="rates-table">
        <div class="table-header">
            <span class="col-name" style="flex: 2;">Parite</span>
            <span class="col-rate text-center">Alış</span>
            <span class="col-rate text-right">Satış</span>
        </div>

        @foreach (var item in Model)
        {
            <div class="rate-row-modern">
                <div class="currency-info">
                    <div class="currency-flag">@GetIcon(item.Code)</div>
                    <span class="currency-code">
                        @item.Code
                        <small>Türk Lirası</small>
                    </span>
                </div>
                <div class="price buy col-rate text-center">@item.BuyRate.ToString("N2") ₺</div>
                <div class="price sell col-rate text-right">@item.SellRate.ToString("N2") ₺</div>
            </div>
        }
    </div>

    <div class="market-footer">
        <span><i class="far fa-clock me-1"></i> @Model.FirstOrDefault()?.UpdateTime.ToString("HH:mm")</span>
    </div>
</div>

@functions {
    string GetIcon(string code) => code switch { "USD" => "$", "EUR" => "€", "GBP" => "£", _ => "₺" };
}