
@{
	ViewData["Title"] = "Admin Dashboard";
}

@using System.Globalization

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
}


<div class="admin-wrapper">
    <aside class="admin-sidebar" id="navMenu">
        <div class="nav-brand" style="padding: 20px;">
            <a href="/" class="logo" style="color: var(--white);">EEZ <span style="color: var(--secondary-color);">ADMIN</span></a>
        </div>
        <ul class="admin-nav">
            <li><a href="#" class="admin-nav-link active"><i class="icon-dashboard"></i> Dashboard</a></li>
            <li><a href="#" class="admin-nav-link"><i class="icon-users"></i> Müşteri Yönetimi</a></li>
            <li><a href="#" class="admin-nav-link"><i class="icon-transfer"></i> Para Transferleri</a></li>
            <li><a href="#" class="admin-nav-link"><i class="icon-rates"></i> Kur Ayarları</a></li>
            <li><a href="#" class="admin-nav-link"><i class="icon-security"></i> Güvenlik Logları</a></li>
        </ul>
    </aside>

    <main class="admin-main">
        <header class="admin-header">
            <div class="header-left">
                <button class="nav-toggle" id="navToggle">
                    <span></span><span></span><span></span>
                </button>
            </div>

            <div class="user-actions">
                <button id="btnSeedData" class="btn btn-sm btn-primary" style="margin-right: 10px;">
                    <i class="icon-plus"></i> Örnek Verileri Ekle
                </button>

                <div class="user-profile">
                    <span>Hoş geldin, <strong>Admin</strong></span>
                    <a href="/Account/Logout" class="btn btn-sm btn-outline" style="margin-left:15px;">Çıkış Yap</a>
                </div>
            </div>
        </header>

        <div class="container" style="padding: 30px 0;">
            <h2 class="section-title" style="text-align: left; margin-bottom: 2rem;">Yönetim Paneli</h2>

            <div class="services-grid">
                <div class="service-card" style="padding: 1.5rem;">
                    <div class="service-icon" style="width: 50px; height: 50px; font-size: 1.2rem;">👥</div>
                    <h4>Toplam Müşteri</h4>
                    <h2 style="color: var(--primary-color);">@ViewBag.KullaniciSayisi</h2>
                </div>
                <div class="service-card" style="padding: 1.5rem;">
                    <div class="service-icon" style="width: 50px; height: 50px; font-size: 1.2rem; background: var(--accent-color);">💰</div>
                    <h4>Kullanıcıların Bakiyeleri Toplamı</h4>
                    <h2 style="color: var(--accent-color);">@ViewBag.BakiyelerToplami.ToString("C", new CultureInfo("tr-TR"))</h2>
                </div>
                <div class="service-card" style="padding: 1.5rem;">
                    <div class="service-icon" style="width: 50px; height: 50px; font-size: 1.2rem;">⚠️</div>
                    <h4>Bekleyen Onaylar</h4>
                    <h2 style="color: #f59e0b;">48</h2>
                </div>
            </div>

            <div class="service-card" style="margin-top: 30px; text-align: left;">
                <h3>Son İşlemler</h3>
                <div class="rates-table">
                    <div class="table-header">
                        <span>Müşteri</span>
                        <span>İşlem Türü</span>
                        <span>Tutar</span>
                        <span>Durum</span>
                    </div>
                    <div class="rate-row-modern">
                        <div class="col-name">Ahmet Yılmaz</div>
                        <div class="col-rate text-center">EFT/Havale</div>
                        <div class="col-rate text-center">₺5,000</div>
                        <div class="col-rate text-right"><span class="badge success">Tamamlandı</span></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<style>
 
    .admin-wrapper {
        display: flex;
        min-height: 100vh;
        overflow-x: hidden; /* Taşmaları önle */
    }

    .admin-sidebar {
        width: 260px;
        background-color: var(--dark-color);
        color: var(--white);
        position: sticky; /* Sayfayı kaydırınca sidebar sabit kalsın */
        top: 0;
        height: 100vh;
        z-index: 1100; /* Sidebar her şeyin üstünde olmalı */
        transition: all 0.3s ease;
    }

    .admin-main {
        flex: 1;
        background-color: var(--light-color);
        min-width: 0; /* Flexbox taşma sorununu önler */
        position: relative;
        z-index: 1000;
    }

    .admin-header {
        background: var(--white);
        padding: 0.8rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: var(--shadow);
        position: sticky; /* Header da kayarken üstte kalsın */
        top: 0;
        z-index: 1050; /* Sidebar'dan düşük, içerikten yüksek */
    }

    .admin-nav {
        list-style: none;
        padding: 0;
    }

    .admin-nav-link {
        display: block;
        padding: 15px 25px;
        color: rgba(255,255,255,0.7);
        text-decoration: none;
        transition: 0.3s;
        border-left: 4px solid transparent;
    }

        .admin-nav-link:hover, .admin-nav-link.active {
            background: rgba(255,255,255,0.05);
            color: var(--white);
            border-left-color: var(--secondary-color);
        }

    .badge {
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 700;
    }

    .badge.success {
        background: #d1fae5;
        color: var(--accent-color);
    }

    .user-actions {
        display: flex;
        align-items: center;
    }

    .user-profile {
        display: flex;
        align-items: center;
        border-left: 1px solid var(--border-color);
        padding-left: 20px;
    }

    /* İçerik Konteynırı İçin Padding */
    .admin-content-body {
        padding: 2rem;
    }

</style>